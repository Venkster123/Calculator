flex -o build/lex.yy.c engine/hidden/lexer.l
bison -t -o build/parser.tab.c engine/hidden/parser.y
engine/hidden/parser.y:352.9-14: warning: empty rule for typed nonterminal, and no action [-Wother]
 pack:	%empty
         ^^^^^^
engine/hidden/parser.y: warning: 1 nonterminal useless in grammar [-Wother]
engine/hidden/parser.y: warning: 1 rule useless in grammar [-Wother]
engine/hidden/parser.y:91.17-20: warning: nonterminal useless in grammar: sbex [-Wother]
 %type	<tree>	sbex
                 ^^^^
engine/hidden/parser.y:249.9-251.1: warning: rule useless in grammar [-Wother]
 sbex:	SUBSCRIPT LBRACE expr RBRACE {
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
engine/hidden/parser.y: warning: 234 shift/reduce conflicts [-Wconflicts-sr]
engine/hidden/parser.y: warning: 68 reduce/reduce conflicts [-Wconflicts-rr]
engine/hidden/parser.y:327.9-329.1: warning: rule useless in parser due to conflicts [-Wother]
    |	felm FACTORIAL {
         ^^^^^^^^^^^^^
[BUILDING TESTS]

g++ -I engine -I engine/hidden -I build tests/tests.cpp -lfl -lgmpxx -lgmp -g -o build/tests
In file included from tests/tests.cpp:13:0:
engine/barn.h:211:11: error: type/value mismatch at argument 1 in template parameter list for ‘template<class T> class vtable’
  vtable <Z> z;
           ^
engine/barn.h:211:11: note:   expected a type, got ‘Z’
engine/barn.h:212:10: error: ‘__type’ was not declared in this scope
  vtable <__type::R> r;
          ^~~~~~
engine/barn.h:212:10: note: suggested alternative: ‘wctype’
  vtable <__type::R> r;
          ^~~~~~
          wctype
engine/barn.h:212:19: error: template argument 1 is invalid
  vtable <__type::R> r;
                   ^
engine/barn.h:214:10: error: ‘__type’ was not declared in this scope
  vtable <__type::Q> q;
          ^~~~~~
engine/barn.h:214:10: note: suggested alternative: ‘wctype’
  vtable <__type::Q> q;
          ^~~~~~
          wctype
engine/barn.h:214:19: error: template argument 1 is invalid
  vtable <__type::Q> q;
                   ^
engine/barn.h:216:10: error: ‘__type’ was not declared in this scope
  vtable <__type::CR> rc;
          ^~~~~~
engine/barn.h:216:10: note: suggested alternative: ‘wctype’
  vtable <__type::CR> rc;
          ^~~~~~
          wctype
engine/barn.h:216:20: error: template argument 1 is invalid
  vtable <__type::CR> rc;
                    ^
engine/barn.h:217:10: error: ‘__type’ was not declared in this scope
  vtable <__type::CQ> qc;
          ^~~~~~
engine/barn.h:217:10: note: suggested alternative: ‘wctype’
  vtable <__type::CQ> qc;
          ^~~~~~
          wctype
engine/barn.h:217:20: error: template argument 1 is invalid
  vtable <__type::CQ> qc;
                    ^
engine/barn.h:219:10: error: ‘__type’ was not declared in this scope
  vtable <__type::MR> rm;
          ^~~~~~
engine/barn.h:219:10: note: suggested alternative: ‘wctype’
  vtable <__type::MR> rm;
          ^~~~~~
          wctype
engine/barn.h:219:20: error: template argument 1 is invalid
  vtable <__type::MR> rm;
                    ^
engine/barn.h:220:10: error: ‘__type’ was not declared in this scope
  vtable <__type::MQ> qm;
          ^~~~~~
engine/barn.h:220:10: note: suggested alternative: ‘wctype’
  vtable <__type::MQ> qm;
          ^~~~~~
          wctype
engine/barn.h:220:20: error: template argument 1 is invalid
  vtable <__type::MQ> qm;
                    ^
engine/barn.h:226:19: error: ‘__type’ does not name a type; did you mean ‘wctype’?
  void put_z(const __type::Z &);
                   ^~~~~~
                   wctype
engine/barn.h:226:29: error: expected unqualified-id before ‘&’ token
  void put_z(const __type::Z &);
                             ^
engine/barn.h:226:29: error: expected ‘)’ before ‘&’ token
engine/barn.h:226:29: error: expected ‘;’ at end of member declaration
engine/barn.h:226:30: error: expected unqualified-id before ‘)’ token
  void put_z(const __type::Z &);
                              ^
engine/barn.h:227:19: error: ‘__type’ does not name a type; did you mean ‘wctype’?
  void put_r(const __type::R &);
                   ^~~~~~
                   wctype
engine/barn.h:227:29: error: expected unqualified-id before ‘&’ token
  void put_r(const __type::R &);
                             ^
engine/barn.h:227:29: error: expected ‘)’ before ‘&’ token
engine/barn.h:227:29: error: expected ‘;’ at end of member declaration
engine/barn.h:227:30: error: expected unqualified-id before ‘)’ token
  void put_r(const __type::R &);
                              ^
engine/barn.h:228:19: error: ‘__type’ does not name a type; did you mean ‘wctype’?
  void put_q(const __type::Q &);
                   ^~~~~~
                   wctype
engine/barn.h:228:29: error: expected unqualified-id before ‘&’ token
  void put_q(const __type::Q &);
                             ^
engine/barn.h:228:29: error: expected ‘)’ before ‘&’ token
engine/barn.h:228:29: error: expected ‘;’ at end of member declaration
engine/barn.h:228:30: error: expected unqualified-id before ‘)’ token
  void put_q(const __type::Q &);
                              ^
engine/barn.h:229:20: error: ‘__type’ does not name a type; did you mean ‘wctype’?
  void put_rc(const __type::CR &);
                    ^~~~~~
                    wctype
engine/barn.h:229:31: error: expected unqualified-id before ‘&’ token
  void put_rc(const __type::CR &);
                               ^
engine/barn.h:229:31: error: expected ‘)’ before ‘&’ token
engine/barn.h:229:31: error: expected ‘;’ at end of member declaration
engine/barn.h:229:32: error: expected unqualified-id before ‘)’ token
  void put_rc(const __type::CR &);
                                ^
engine/barn.h:230:20: error: ‘__type’ does not name a type; did you mean ‘wctype’?
  void put_qc(const __type::CQ &);
                    ^~~~~~
                    wctype
engine/barn.h:230:31: error: expected unqualified-id before ‘&’ token
  void put_qc(const __type::CQ &);
                               ^
engine/barn.h:230:31: error: expected ‘)’ before ‘&’ token
engine/barn.h:230:31: error: expected ‘;’ at end of member declaration
engine/barn.h:230:32: error: expected unqualified-id before ‘)’ token
  void put_qc(const __type::CQ &);
                                ^
engine/barn.h:231:20: error: ‘__type’ does not name a type; did you mean ‘wctype’?
  void put_rm(const __type::MR &);
                    ^~~~~~
                    wctype
engine/barn.h:231:31: error: expected unqualified-id before ‘&’ token
  void put_rm(const __type::MR &);
                               ^
engine/barn.h:231:31: error: expected ‘)’ before ‘&’ token
engine/barn.h:231:31: error: expected ‘;’ at end of member declaration
engine/barn.h:231:32: error: expected unqualified-id before ‘)’ token
  void put_rm(const __type::MR &);
                                ^
engine/barn.h:232:20: error: ‘__type’ does not name a type; did you mean ‘wctype’?
  void put_qm(const __type::MQ &);
                    ^~~~~~
                    wctype
engine/barn.h:232:31: error: expected unqualified-id before ‘&’ token
  void put_qm(const __type::MQ &);
                               ^
engine/barn.h:232:31: error: expected ‘)’ before ‘&’ token
engine/barn.h:232:31: error: expected ‘;’ at end of member declaration
engine/barn.h:232:32: error: expected unqualified-id before ‘)’ token
  void put_qm(const __type::MQ &);
                                ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:125:30: error: ‘__type’ was not declared in this scope
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
                              ^
engine/barn.h:30:24: note: in definition of macro ‘__add_binary_operation’
      __typeid(operand <A>),     \
                        ^
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:125:30: note: suggested alternative: ‘wctype’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
                              ^
engine/barn.h:30:24: note: in definition of macro ‘__add_binary_operation’
      __typeid(operand <A>),     \
                        ^
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: template argument 1 is invalid
      __typeid(operand <A>),     \
                         ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: note: (if you use ‘-fpermissive’, G++ will accept your code, but allowing the use of an undeclared name is deprecated)
      __typeid(operand <A>),     \
      ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:93: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                             ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:107: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                                           ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:93: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                             ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:107: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                                           ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:10: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
          ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:5: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
     R(b->get().real()), __type::R(b->get().imag())));   \
     ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:25: error: ‘__type’ is not a class, namespace, or enumeration
     R(b->get().real()), __type::R(b->get().imag())));   \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:38: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
                                      ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:10: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
          ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:5: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
     R(b->get().real()), __type::R(b->get().imag())));   \
     ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:25: error: ‘__type’ is not a class, namespace, or enumeration
     R(b->get().real()), __type::R(b->get().imag())));   \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:38: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
                                      ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:98: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:93: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                             ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:12: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:29: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
                             ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:98: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:93: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                             ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:12: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:29: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
                             ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:10: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
    CR(a->get().real() str (R) b->get().real(),    \
          ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:28: error: ‘R’ was not declared in this scope
    CR(a->get().real() str (R) b->get().real(),    \
                            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:147:8: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
     a->get().imag() str (R) b->get().imag()));
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:4: error: there are no arguments to ‘CR’ that depend on a template parameter, so a declaration of ‘CR’ must be available [-fpermissive]
    CR(a->get().real() str (R) b->get().real(),    \
    ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:10: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
    CR(a->get().real() str (R) b->get().real(),    \
          ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:28: error: ‘R’ was not declared in this scope
    CR(a->get().real() str (R) b->get().real(),    \
                            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:147:8: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
     a->get().imag() str (R) b->get().imag()));
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:4: error: there are no arguments to ‘CR’ that depend on a template parameter, so a declaration of ‘CR’ must be available [-fpermissive]
    CR(a->get().real() str (R) b->get().real(),    \
    ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:253:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(+);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:125:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Z, __type::Z, __type::Z);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:126:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::R, __type::R, __type::R);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:127:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::Q, __type::Q, __type::Q);       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:128:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CR, __type::CR, __type::CR);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:129:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, __type::CQ, __type::CQ, __type::CQ);      \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:131:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Z, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:93: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                             ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:107: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                                           ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:93: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                             ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:132:107: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
                                                                                                           ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:132:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::Q, __type::Q, __type::Q(a->get()) str b->get()); \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:133:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::Q, __type::R);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:134:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(str, __type::R, __type::CR, __type::CR);     \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:10: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
          ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:5: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
     R(b->get().real()), __type::R(b->get().imag())));   \
     ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:25: error: ‘__type’ is not a class, namespace, or enumeration
     R(b->get().real()), __type::R(b->get().imag())));   \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:38: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
                                      ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:135:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:10: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
          ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:5: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
     R(b->get().real()), __type::R(b->get().imag())));   \
     ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:25: error: ‘__type’ is not a class, namespace, or enumeration
     R(b->get().real()), __type::R(b->get().imag())));   \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:136:38: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     R(b->get().real()), __type::R(b->get().imag())));   \
                                      ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:135:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::R, __type::CQ, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:137:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:138:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:137:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CR, __type::CR, __type::CR(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:139:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:140:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:139:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Z, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:98: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:93: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                             ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:12: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:29: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
                             ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:98: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:141:93: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
                                                                                             ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:12: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:142:29: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     str b->get().real(), b->get().imag()));    \
                             ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:141:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CR, __type::CR, __type::CR(R(a->get())   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:82: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                  ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:143:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
                                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:8: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:144:25: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
     b->get().real(), b->get().imag()));    \
                         ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:143:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::Q, __type::CQ, __type::CQ, __type::CQ(a->get() str   \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:10: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
    CR(a->get().real() str (R) b->get().real(),    \
          ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:28: error: ‘R’ was not declared in this scope
    CR(a->get().real() str (R) b->get().real(),    \
                            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:147:8: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
     a->get().imag() str (R) b->get().imag()));
        ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:4: error: there are no arguments to ‘CR’ that depend on a template parameter, so a declaration of ‘CR’ must be available [-fpermissive]
    CR(a->get().real() str (R) b->get().real(),    \
    ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:10: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
    CR(a->get().real() str (R) b->get().real(),    \
          ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:28: error: ‘R’ was not declared in this scope
    CR(a->get().real() str (R) b->get().real(),    \
                            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:147:8: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
     a->get().imag() str (R) b->get().imag()));
        ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:146:4: error: there are no arguments to ‘CR’ that depend on a template parameter, so a declaration of ‘CR’ must be available [-fpermissive]
    CR(a->get().real() str (R) b->get().real(),    \
    ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:145:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(str, __type::CR, __type::CQ, __type::CR,    \
  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:254:2: note: in expansion of macro ‘__add_binary_operation_set’
  __add_binary_operation_set(-);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:257:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Z, __type::Z, __type::Z);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:258:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:259:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:260:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:261:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:263:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::Z, __type::R);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:264:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Z, __type::Q, __type::Q);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:265:81: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                 ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:265:90: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                          ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:265:81: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                 ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:265:90: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                          ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:265:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:266:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::R, __type::CR, __type::CR);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:267:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:267:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:267:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:267:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:267:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:267:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:267:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:267:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:267:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:268:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:268:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:268:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:268:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:268:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:268:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:268:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:268:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:268:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:269:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:269:92: error: ‘Q’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:269:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:269:92: error: ‘Q’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:269:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:270:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:270:92: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:270:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:270:92: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:270:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(*, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:271:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(*, __type::Q, __type::CQ, __type::CQ);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:274:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::R, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:275:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::Q, __type::Q, __type::Q);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:276:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CR, __type::CR, __type::CR);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:277:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(/, __type::CQ, __type::CQ, __type::CQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:279:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::Z, __type::R);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:280:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Z, __type::Q, __type::Q);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:281:81: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                 ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:281:90: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                          ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
engine/barn.h:281:81: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                 ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:281:90: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
                                                                                          ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:281:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::Q, __type::R, a->get() * (R) b->get());
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:282:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::R, __type::CR, __type::CR);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:283:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:283:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:283:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:283:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:283:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:283:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:283:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:283:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:283:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::R, __type::CQ, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:284:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:284:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:284:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:284:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
engine/barn.h:284:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:284:94: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:284:103: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                       ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:284:126: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
                                                                                                                              ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:284:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CR, __type::CR, __type::CR(a->get() * (R) b->get().real(), a->get() * (R) b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:285:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:285:92: error: ‘Q’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
engine/barn.h:285:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:285:92: error: ‘Q’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:285:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Z, __type::CQ, __type::CQ, __type::CQ((Q) a->get() * b->get().real(), (Q) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:81:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:82:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:82:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:83:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:83:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:93:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:93:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:94:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:96:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:286:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:286:92: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:96:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:99:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });           \
   ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:104:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:105:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>),     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:105:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>),     \
      ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:106:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>)     \
                         ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:106:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>)     \
      ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h: In lambda function:
engine/barn.h:116:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                               ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                  ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:116:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[1]); \
                                                            ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                               ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                 ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                  ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:117:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[0]); \
                                                            ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:119:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
engine/barn.h:286:80: error: ‘__type’ is not a class, namespace, or enumeration
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:286:92: error: ‘R’ was not declared in this scope
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
                                                                                            ^
engine/barn.h:119:30: note: in definition of macro ‘__add_heterogenous_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:122:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:286:2: note: in expansion of macro ‘__add_heterogenous_binary_operation_ftr’
  __add_heterogenous_binary_operation_ftr(/, __type::Q, __type::CR, __type::CR, __type::CR((R) a->get() * b->get().real(), (R) a->get() * b->get().imag()));
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:50:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, A, B, O)       \
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:51:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(str, B, A, O)
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:287:2: note: in expansion of macro ‘__add_heterogenous_binary_operation’
  __add_heterogenous_binary_operation(/, __type::Q, __type::CQ, __type::CQ);
  ^
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:290:69: error: expected ‘)’ before ‘pow’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
                                                                     ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:290:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Z, __type::Z, __type::Z, (Z) pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:291:72: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
                                                                        ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:291:82: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
                                                                                  ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:291:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::R, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:292:72: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
                                                                        ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:292:82: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
                                                                                  ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:292:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::R, __type::Z, __type::R, pow(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:293:70: error: ‘R’ was not declared in this scope
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
                                                                      ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:293:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::Q, __type::Q, __type::R, pow((R) a->get(), (R) b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:294:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CR, __type::CR, __type::CR, 1);
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:295:68: error: ‘__type’ is not a class, namespace, or enumeration
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
                                                                    ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:295:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(^, __type::CQ, __type::CQ, __type::CQ, __type::Q(1));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:298:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:299:66: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
                                                                  ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:299:59: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
                                                           ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:299:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sin, __type::Q, __type::R, sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:300:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sin, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:302:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:303:66: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
                                                                  ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:303:59: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
                                                           ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:303:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cos, __type::Q, __type::R, cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:304:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cos, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:306:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:307:66: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
                                                                  ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:307:59: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
                                                           ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:307:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tan, __type::Q, __type::R, tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:308:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tan, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:310:65: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
                                                                 ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:310:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Z, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:311:68: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
                                                                    ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:311:61: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
                                                             ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:311:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::Q, __type::R, 1/sin(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:312:65: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
                                                                 ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:312:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csc, __type::R, __type::R, 1/sin(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:314:65: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
                                                                 ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:314:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Z, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:315:68: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
                                                                    ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:315:61: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
                                                             ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:315:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::Q, __type::R, 1/cos(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:316:65: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
                                                                 ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:316:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sec, __type::R, __type::R, 1/cos(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:318:65: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
                                                                 ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:318:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Z, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:319:68: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
                                                                    ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:319:61: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
                                                             ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:319:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::Q, __type::R, 1/tan(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:320:65: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
                                                                 ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:320:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cot, __type::R, __type::R, 1/tan(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:323:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:324:68: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
                                                                    ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:324:61: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
                                                             ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:324:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sinh, __type::Q, __type::R, sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:325:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(sinh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:327:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:328:68: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
                                                                    ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:328:61: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
                                                             ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:328:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(cosh, __type::Q, __type::R, cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:329:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(cosh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:331:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::Z, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:332:68: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
                                                                    ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:332:61: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
                                                             ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:332:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(tanh, __type::Q, __type::R, tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:153:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:161:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:162:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:27: error: template argument 1 is invalid
      return new operand <O> (str(in->get()));  \
                           ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h:164:38: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
      return new operand <O> (str(in->get()));  \
                                      ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:167:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:333:2: note: in expansion of macro ‘__add_unary_operation’
  __add_unary_operation(tanh, __type::R, __type::R);
  ^~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:335:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:335:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Z, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:336:70: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
                                                                      ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:336:63: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
                                                               ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:336:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::Q, __type::R, 1/sinh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:337:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:337:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(csch, __type::R, __type::R, 1/sinh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:339:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:339:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Z, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:340:70: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
                                                                      ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:340:63: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
                                                               ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:340:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::Q, __type::R, 1/cosh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:341:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:341:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(sech, __type::R, __type::R, 1/cosh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:343:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:343:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Z, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:344:70: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
                                                                      ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:344:63: error: there are no arguments to ‘R’ that depend on a template parameter, so a declaration of ‘R’ must be available [-fpermissive]
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
                                                               ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:344:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::Q, __type::R, 1/tanh(R (in->get())));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:345:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:345:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(coth, __type::R, __type::R, 1/tanh(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:352:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:353:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:356:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VQ, __type::VQ, __type::VQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:357:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::VR, __type::VR, __type::VR);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:360:69: error: ‘Q’ was not declared in this scope
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
                                                                     ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:360:72: error: expected ‘)’ before ‘a’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
                                                                        ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:360:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(*, __type::Z, __type::VQ, __type::VQ, ((Q) a->get()) * b->get());
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:363:76: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
                                                                            ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:363:86: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
                                                                                      ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:363:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VQ, __type::VQ, __type::Q, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:364:76: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
                                                                            ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:364:86: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
                                                                                      ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:364:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(., __type::VR, __type::VR, __type::R, inner(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:367:79: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
                                                                               ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:367:89: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
                                                                                         ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:367:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VQ, __type::VQ, __type::VQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:368:79: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
                                                                               ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:368:89: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
                                                                                         ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:368:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::VR, __type::VR, __type::VR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:371:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:371:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:372:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:372:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::VR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:378:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:379:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(+, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:381:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:382:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(-, __type::MR, __type::MR, __type::MR);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:384:79: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
                                                                               ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:384:89: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
                                                                                         ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:384:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MQ, __type::MQ, __type::MQ, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:385:79: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
                                                                               ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:385:89: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
                                                                                         ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:385:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(shur, __type::MR, __type::MR, __type::MR, shur(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:387:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:387:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MQ, __type::MQ, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:388:67: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
                                                                   ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:388:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(transpose, __type::MR, __type::MR, in->get().transpose());
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:391:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::MQ, __type::VQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:29:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:30:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:31:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:41:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:41:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:42:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:27: error: template argument 1 is invalid
      return new operand <O> (a->get() str b->get());  \
                           ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:33: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                 ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:44:46: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
      return new operand <O> (a->get() str b->get());  \
                                              ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:47:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:392:2: note: in expansion of macro ‘__add_binary_operation’
  __add_binary_operation(*, __type::VQ, __type::MQ, __type::MQ);
  ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                       ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                   ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:57: note:   expected a type, got ‘__type’
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                                         ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:173:38: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
     std::vector <std::__type_index> {__typeid(operand <I>)}  \
                                      ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:181:16: error: template argument 1 is invalid
      operand <I> *in = dynamic_cast    \
                ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:18: error: template argument 1 is invalid
       <operand <I> *> (ins[0]);   \
                  ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘>’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:20: error: expected ‘(’ before ‘*’ token
       <operand <I> *> (ins[0]);   \
                    ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:21: error: expected primary-expression before ‘>’ token
       <operand <I> *> (ins[0]);   \
                     ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:182:31: error: expected ‘)’ before ‘;’ token
       <operand <I> *> (ins[0]);   \
                               ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:184:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:397:85: error: request for member ‘get’ in ‘in->’, which is of non-class type ‘int’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
                                                                                     ^
engine/barn.h:184:30: note: in definition of macro ‘__add_unary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:187:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:397:2: note: in expansion of macro ‘__add_unary_operation_ftr’
  __add_unary_operation_ftr(!, __type::Z, __type::Z, utility::integral_factorial(in->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: error: ‘__type_index’ is not a member of ‘std’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:23: note: suggested alternative: ‘type_index’
     std::vector <std::__type_index> {     \
                       ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 1 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:57:35: error: template argument 2 is invalid
     std::vector <std::__type_index> {     \
                                   ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:25: note:   expected a type, got ‘__type’
      __typeid(operand <A>),     \
                         ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:58:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <A>),     \
      ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: error: type/value mismatch at argument 1 in template parameter list for ‘template<class data_t> class operand’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:25: note:   expected a type, got ‘__type’
      __typeid(operand <B>)     \
                         ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:59:6: error: there are no arguments to ‘__typeid’ that depend on a template parameter, so a declaration of ‘__typeid’ must be available [-fpermissive]
      __typeid(operand <B>)     \
      ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h: In lambda function:
engine/barn.h:69:16: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:47: error: template argument 1 is invalid
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                               ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘>’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:49: error: expected ‘(’ before ‘*’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                 ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:50: error: expected primary-expression before ‘>’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                  ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:69:60: error: expected ‘)’ before ‘;’ token
      operand <A> *a = dynamic_cast <operand <A> *> (ins[0]); \
                                                            ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:16: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:47: error: template argument 1 is invalid
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                               ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘>’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:49: error: expected ‘(’ before ‘*’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                 ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:50: error: expected primary-expression before ‘>’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                  ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:70:60: error: expected ‘)’ before ‘;’ token
      operand <B> *b = dynamic_cast <operand <B> *> (ins[1]); \
                                                            ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:72:27: error: template argument 1 is invalid
      return new operand <O> (ftr);    \
                           ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
engine/barn.h:399:96: error: request for member ‘get’ in ‘a->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
                                                                                                ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h:399:106: error: request for member ‘get’ in ‘b->’, which is of non-class type ‘int’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
                                                                                                          ^
engine/barn.h:72:30: note: in definition of macro ‘__add_binary_operation_ftr’
      return new operand <O> (ftr);    \
                              ^~~
engine/barn.h: In constructor ‘Barn<T, U>::Barn()’:
engine/barn.h:75:3: error: no matching function for call to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::push_back(<brace-enclosed initializer list>)’
  });
   ^
engine/barn.h:399:2: note: in expansion of macro ‘__add_binary_operation_ftr’
  __add_binary_operation_ftr(binom, __type::Z, __type::Z, __type::Z, utility::integral_binom(a->get(), b->get()));
  ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/include/c++/7/vector:64:0,
                 from tests/tests.cpp:5:
/usr/include/c++/7/bits/stl_vector.h:939:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(const value_type&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(const value_type& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:939:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘const value_type& {aka const std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&}’
/usr/include/c++/7/bits/stl_vector.h:953:7: note: candidate: void std::vector<_Tp, _Alloc>::push_back(std::vector<_Tp, _Alloc>::value_type&&) [with _Tp = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>; _Alloc = std::allocator<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >; std::vector<_Tp, _Alloc>::value_type = std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>]
       push_back(value_type&& __x)
       ^~~~~~~~~
/usr/include/c++/7/bits/stl_vector.h:953:7: note:   no known conversion for argument 1 from ‘<brace-enclosed initializer list>’ to ‘std::vector<std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*> >::value_type&& {aka std::pair<std::pair<std::__cxx11::basic_string<char>, std::vector<std::type_index> >, token*>&&}’
In file included from tests/tests.cpp:13:0:
engine/barn.h: In member function ‘token* Barn<T, U>::value(const string&, const std::vector<std::type_index>&, const std::vector<token*>&) const’:
engine/barn.h:415:32: error: ‘__type’ was not declared in this scope
    itr->first.second.size() == __type.size()) {
                                ^~~~~~
engine/barn.h:415:32: note: suggested alternative: ‘wctype’
    itr->first.second.size() == __type.size()) {
                                ^~~~~~
                                wctype
engine/barn.h: In member function ‘void Barn<T, U>::print()’:
engine/barn.h:450:4: error: request for member ‘print’ in ‘((Barn<T, U>*)this)->Barn<T, U>::z’, which is of non-class type ‘int’
  z.print();
    ^~~~~
engine/barn.h:456:4: error: request for member ‘print’ in ‘((Barn<T, U>*)this)->Barn<T, U>::r’, which is of non-class type ‘int’
  r.print();
    ^~~~~
engine/barn.h:462:4: error: request for member ‘print’ in ‘((Barn<T, U>*)this)->Barn<T, U>::q’, which is of non-class type ‘int’
  q.print();
    ^~~~~
engine/barn.h:468:5: error: request for member ‘print’ in ‘((Barn<T, U>*)this)->Barn<T, U>::rc’, which is of non-class type ‘int’
  rc.print();
     ^~~~~
engine/barn.h:474:5: error: request for member ‘print’ in ‘((Barn<T, U>*)this)->Barn<T, U>::qc’, which is of non-class type ‘int’
  qc.print();
     ^~~~~
engine/barn.h:480:5: error: request for member ‘print’ in ‘((Barn<T, U>*)this)->Barn<T, U>::rm’, which is of non-class type ‘int’
  rm.print();
     ^~~~~
engine/barn.h:486:5: error: request for member ‘print’ in ‘((Barn<T, U>*)this)->Barn<T, U>::qm’, which is of non-class type ‘int’
  qm.print();
     ^~~~~
In file included from tests/tests.cpp:13:0:
engine/barn.h: In instantiation of ‘class Barn<double, int>’:
engine/hidden/node.h:88:33:   required from ‘class node<double, int>’
engine/expression.h:84:14:   required from ‘std::__cxx11::string expr(std::__cxx11::string, vtable<T>) [with T = double; U = int; std::__cxx11::string = std::__cxx11::basic_string<char>]’
tests/tests.cpp:36:31:   required from here
engine/barn.h:207:23: error: type ‘types<double, int>’ is not a base type for type ‘Barn<double, int>’
  using types <T, U> ::Z;
                       ^
In file included from engine/function.h:18:0,
                 from tests/tests.cpp:15:
engine/hidden/node.h: In instantiation of ‘std::__cxx11::string node<T, U>::display() const [with T = double; U = int; std::__cxx11::string = std::__cxx11::basic_string<char>]’:
engine/function.h:303:16:   required from ‘std::__cxx11::string Function<T, U>::display() const [with T = double; U = int; std::__cxx11::string = std::__cxx11::basic_string<char>]’
engine/function.h:596:5:   required from ‘std::ostream& operator<<(std::ostream&, const Function<T, U>&) [with T = double; U = int; std::ostream = std::basic_ostream<char>]’
tests/tests.cpp:41:10:   required from here
engine/hidden/node.h:995:2: warning: empty range specified
  case l_constant ... l_constant_matrix_complex_real:
  ^~~~
In file included from engine/barn.h:21:0,
                 from tests/tests.cpp:13:
engine/vector.h: In instantiation of ‘Vector<T>::operator Complex<double>() const [with T = int]’:
engine/function.h:632:27:   required from ‘static node<T, U>* Function<T, U>::convert(A) [with A = Vector<int>; T = double; U = int]’
engine/function.h:615:24:   required from ‘static void Function<T, U>::gather(std::vector<node<T, U>*>&, A) [with A = Vector<int>; T = double; U = int]’
engine/function.h:461:8:   required from ‘token* Function<T, U>::operator()(V ...) [with V = {Vector<int>}; T = double; U = int]’
tests/tests.cpp:50:35:   required from here
engine/vector.h:163:37: warning: narrowing conversion of ‘(int)((const Vector<int>*)this)->Vector<int>::operator[](0)’ from ‘int’ to ‘double’ inside { } [-Wnarrowing]
  return Complex <double> {(*this)[0]};
                                     ^
makefile:22: recipe for target 'tests' failed
make: *** [tests] Error 1
